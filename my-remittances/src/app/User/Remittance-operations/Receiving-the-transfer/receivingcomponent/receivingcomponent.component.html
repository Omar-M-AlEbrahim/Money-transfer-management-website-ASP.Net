<div class="container">
  <h2>Received Transfers List</h2>
  <table mat-table [dataSource]="transfers" class="mat-elevation-z8">
    <!-- Column Definitions -->
    <ng-container matColumnDef="nameSendingCustomer">
      <th mat-header-cell *matHeaderCellDef>Sending Customer</th>
      <td mat-cell *matCellDef="let transfer">{{ transfer.nameSendingCustomer }}</td>
    </ng-container>

    <ng-container matColumnDef="nameBeneficiaryCustomer">
      <th mat-header-cell *matHeaderCellDef>Beneficiary Customer</th>
      <td mat-cell *matCellDef="let transfer">{{ transfer.nameBeneficiaryCustomer }}</td>
    </ng-container>

    <ng-container matColumnDef="amount">
      <th mat-header-cell *matHeaderCellDef>Amount</th>
      <td mat-cell *matCellDef="let transfer">{{ transfer.amount | currency:'USD' }}</td>
    </ng-container>

    <ng-container matColumnDef="createdDate">
      <th mat-header-cell *matHeaderCellDef> Created Date </th>
      <td mat-cell *matCellDef="let transfer"> {{transfer.createdAt | date:'shortDate'}} </td>
  </ng-container>

  <!-- Created Time Column -->
  <ng-container matColumnDef="createdTime">
      <th mat-header-cell *matHeaderCellDef> Created Time </th>
      <td mat-cell *matCellDef="let transfer"> {{transfer.createdAt | date:'shortTime'}} </td>
  </ng-container>
    
    <ng-container matColumnDef="sender">
      <th mat-header-cell *matHeaderCellDef>Sender Office</th>
      <td mat-cell *matCellDef="let transfer">{{ transfer.sender.name }}</td>
    </ng-container>

    <ng-container matColumnDef="receiver">
      <th mat-header-cell *matHeaderCellDef>Receiver Office</th>
      <td mat-cell *matCellDef="let transfer">{{ transfer.receiver.name }}</td>
    </ng-container>

    <ng-container matColumnDef="transferCode">
      <th mat-header-cell *matHeaderCellDef>Transfer Code</th>
      <td mat-cell *matCellDef="let transfer">
        <mat-form-field appearance="outline">
          <mat-label>Enter Transfer Code</mat-label>
          <input matInput [(ngModel)]="transfer.transferCode">
        </mat-form-field>
      </td>
    </ng-container>
    

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Actions</th>
      <td mat-cell *matCellDef="let transfer">
        <button mat-icon-button color="primary" class="small-button" (click)="receiveTransfer(transfer.transferId)">
          <mat-icon>check_circle</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="deleteTransfer(transfer.transferId)">
          <mat-icon>delete</mat-icon>
        </button> 
      </td>
    </ng-container>

    <!-- Table Headers and Rows -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
